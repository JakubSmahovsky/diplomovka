theory temp
begin

rule init: [
Fr(~C),
Fr(~D)
]-->[
Bob_0(~D,$B),
Alice_0($B,~C,~D)
]

rule Bob_1: [
Bob_0($B,D),
Fr(~A)
]--[
Bob_1(~A,$B,D)
]->[
Bob_1(~A,$B,D)
]

rule Bob_2: [
Bob_1(A,$B,D),
In($B),
In(C)
]--[
Bob_2(C,A,$B,D)
]->[
Out(A),
Out(D),
Bob_2(C,A,$B,D)
]

rule Alice_1: [
Alice_0(C,$B,D)
]--[
Alice_1(C,$B,D)
]->[
Out($B),
Out(C),
Alice_1(C,$B,D)
]

end
